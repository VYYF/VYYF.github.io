(function(){"use strict";var t={480:function(t,e,i){var s=i(144),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("keep-alive",{attrs:{exclude:"Detail"}},[i("router-view")],1)],1)},n=[],r=i(1001),l={},o=(0,r.Z)(l,a,n,!1,null,null,null),c=o.exports,u=i(8345),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("home-header"),i("home-swiper",{attrs:{list:t.swiperList}}),i("home-icons",{attrs:{list:t.iconList}}),i("home-recommend",{attrs:{list:t.recommendList}}),i("home-weekend",{attrs:{list:t.weekendList}})],1)},h=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[t._m(0),t._m(1),i("router-link",{attrs:{to:"/city"}},[i("div",{staticClass:"header-right"},[t._v(" "+t._s(this.city)+" "),i("span",{staticClass:"iconfont arrow-icon"},[t._v("")])])])],1)},p=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-left"},[i("div",{staticClass:"iconfont back-icon"},[t._v("")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-input"},[i("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 输入城市/景点/游玩主题 ")])}],v=i(629),f={name:"HomeHeader",computed:{...(0,v.rn)(["city"])}},y=f,C=(0,r.Z)(y,m,p,!1,null,"62c7859b",null),g=C.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[t.showSwiper?i("swiper",{attrs:{options:t.swiperOption}},[t._l(t.list,(function(t){return i("swiper-slide",{key:t.id},[i("img",{staticClass:"swiper-img",attrs:{src:t.imgUrl}})])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1)},w=[],b={name:"HomeSwiper",props:{list:Array},data(){return{swiperOption:{pagination:".swiper-pagination",loop:!0}}},computed:{showSwiper(){return this.list.length}}},k=b,x=(0,r.Z)(k,_,w,!1,null,"eed7bc46",null),S=x.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icons"},[i("swiper",{attrs:{options:t.swiperOption}},t._l(t.pages,(function(e,s){return i("swiper-slide",{key:s},t._l(e,(function(e){return i("div",{key:e.id,staticClass:"icon"},[i("div",{staticClass:"icon-img"},[i("img",{staticClass:"icon-img-content",attrs:{src:e.imgUrl}})]),i("p",{staticClass:"icon-desc"},[t._v(t._s(e.desc))])])})),0)})),1)],1)},$=[],E={name:"HomeIcons",props:{list:Array},data(){return{swiperOption:{autoplay:!1}}},computed:{pages(){const t=[];return this.list.forEach(((e,i)=>{const s=Math.floor(i/8);t[s]||(t[s]=[]),t[s].push(e)})),t}}},Z=E,L=(0,r.Z)(Z,I,$,!1,null,"810c4b86",null),O=L.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[t._v("热销推荐")]),i("ul",t._l(t.list,(function(e){return i("router-link",{key:e.id,staticClass:"item border-bottom",attrs:{tag:"li",to:"/detail/"+e.id}},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl}}),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))]),i("button",{staticClass:"item-button"},[t._v("查看详情")])])])})),1)])},T=[],A={name:"HomeRecommend",props:{list:Array}},D=A,N=(0,r.Z)(D,H,T,!1,null,"0507103c",null),G=N.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[t._v("周末去哪儿")]),i("ul",t._l(t.list,(function(e){return i("li",{key:e.id,staticClass:"item border-bottom"},[i("div",{staticClass:"item-img-wrapper"},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl}})]),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))])])])})),0)])},P=[],M={name:"HomeWeekend",props:{list:Array}},B=M,F=(0,r.Z)(B,j,P,!1,null,"2d94a6a8",null),Y=F.exports,U=i(9669),R=i.n(U),W={name:"Home",components:{HomeHeader:g,HomeSwiper:S,HomeIcons:O,HomeRecommend:G,HomeWeekend:Y},data(){return{lastCity:"",swiperList:[],iconList:[],recommendList:[],weekendList:[]}},computed:{...(0,v.rn)(["city"])},methods:{getHomeInfo(){R().get("/api/index.json?city="+this.city).then(this.getHomeInfoSucc)},getHomeInfoSucc(t){if(t=t.data,t.ret&&t.data){const e=t.data;this.swiperList=e.swiperList,this.iconList=e.iconList,this.recommendList=e.recommendList,this.weekendList=e.weekendList}}},mounted(){this.lastCity=this.city,this.getHomeInfo()},activated(){this.lastCity!==this.city&&(this.lastCity=this.city,this.getHomeInfo())}},q=W,z=(0,r.Z)(q,d,h,!1,null,null,null),J=z.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("city-header"),i("city-search",{attrs:{cities:t.cities}}),i("city-list",{attrs:{cities:t.cities,hot:t.hotCities,letter:t.letter}}),i("city-alphabet",{attrs:{cities:t.cities},on:{change:t.handleLetterChange}})],1)},Q=[],V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[t._v(" 城市选择 "),i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"iconfont header-back"},[t._v("")])])],1)},X=[],tt={name:"CityHeader"},et=tt,it=(0,r.Z)(et,V,X,!1,null,"3243a4b4",null),st=it.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入城市名或拼音"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],ref:"search",staticClass:"search-content"},[i("ul",[t._l(t.list,(function(e){return i("li",{key:e.id,staticClass:"search-item border-bottom",on:{click:function(i){return t.handleCityClick(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),i("li",{directives:[{name:"show",rawName:"v-show",value:t.hasNoData,expression:"hasNoData"}],staticClass:"search-item border-bottom"},[t._v(" 没有找到匹配数据 ")])],2)])])},nt=[],rt=i(7626),lt={name:"CitySearch",props:{cities:Object},data(){return{keyword:"",list:[],timer:null}},computed:{hasNoData(){return!this.list.length}},watch:{keyword(){this.timer&&clearTimeout(this.timer),this.keyword?this.timer=setTimeout((()=>{const t=[];for(let e in this.cities)this.cities[e].forEach((e=>{(e.spell.indexOf(this.keyword)>-1||e.name.indexOf(this.keyword)>-1)&&t.push(e)}));this.list=t}),100):this.list=[]}},methods:{handleCityClick(t){this.changeCity(t),this.$router.push("/")},...(0,v.OI)(["changeCity"])},mounted(){this.scroll=new rt.Z(this.$refs.search,{click:!0})}},ot=lt,ct=(0,r.Z)(ot,at,nt,!1,null,"6fd4954b",null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"list"},[i("div",[i("div",{staticClass:"area"},[i("div",{staticClass:"title border-topbottom"},[t._v("当前城市")]),i("div",{staticClass:"button-list"},[i("div",{staticClass:"button-wrapper"},[i("div",{staticClass:"button"},[t._v(t._s(this.currentCity))])])])]),i("div",{staticClass:"area"},[i("div",{staticClass:"title border-topbottom"},[t._v("热门城市")]),i("div",{staticClass:"button-list"},t._l(t.hot,(function(e){return i("div",{key:e.id,staticClass:"button-wrapper",on:{click:function(i){return t.handleCityClick(e.name)}}},[i("div",{staticClass:"button"},[t._v(t._s(e.name))])])})),0)]),t._l(t.cities,(function(e,s){return i("div",{key:s,ref:s,refInFor:!0,staticClass:"area"},[i("div",{staticClass:"title border-topbottom"},[t._v(t._s(s))]),i("div",{staticClass:"item-list"},t._l(e,(function(e){return i("div",{key:e.id,staticClass:"item border-bottom",on:{click:function(i){return t.handleCityClick(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])}))],2)])},ht=[],mt={name:"CityList",props:{hot:Array,cities:Object,letter:String},computed:{...(0,v.rn)({currentCity:"city"})},methods:{handleCityClick(t){this.changeCity(t),this.$router.push("/")},...(0,v.OI)(["changeCity"])},watch:{letter(){if(this.letter){const t=this.$refs[this.letter][0];this.scroll.scrollToElement(t)}}},mounted(){this.scroll=new rt.Z(this.$refs.wrapper,{click:!0})}},pt=mt,vt=(0,r.Z)(pt,dt,ht,!1,null,"55f7dcb2",null),ft=vt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"list"},t._l(t.letters,(function(e){return i("li",{key:e,ref:e,refInFor:!0,staticClass:"item",on:{touchstart:function(e){return e.preventDefault(),t.handleTouchStart.apply(null,arguments)},touchmove:t.handleTouchMove,touchend:t.handleTouchEnd,click:t.handleLetterClick}},[t._v(" "+t._s(e)+" ")])})),0)},Ct=[],gt={name:"CityAlphabet",props:{cities:Object},computed:{letters(){const t=[];for(let e in this.cities)t.push(e);return t}},data(){return{touchStatus:!1,startY:0,timer:null}},updated(){this.startY=this.$refs["A"][0].offsetTop},methods:{handleLetterClick(t){this.$emit("change",t.target.innerText)},handleTouchStart(){this.touchStatus=!0},handleTouchMove(t){this.touchStatus&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{const e=t.touches[0].clientY-79,i=Math.floor((e-this.startY)/20);i>=0&&i<this.letters.length&&this.$emit("change",this.letters[i])}),8))},handleTouchEnd(){this.touchStatus=!1}}},_t=gt,wt=(0,r.Z)(_t,yt,Ct,!1,null,"3f30b4a2",null),bt=wt.exports,kt={name:"City",components:{CityHeader:st,CitySearch:ut,CityList:ft,CityAlphabet:bt},data(){return{cities:{},hotCities:[],letter:""}},methods:{getCityInfo(){R().get("/api/city.json").then(this.handleGetCityInfoSucc)},handleGetCityInfoSucc(t){if(t=t.data,t.ret&&t.data){const e=t.data;this.cities=e.cities,this.hotCities=e.hotCities}},handleLetterChange(t){this.letter=t}},mounted(){this.getCityInfo()}},xt=kt,St=(0,r.Z)(xt,K,Q,!1,null,"62786069",null),It=St.exports,$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("detail-banner",{attrs:{sightName:t.sightName,bannerImg:t.bannerImg,bannerImgs:t.gallaryImgs}}),i("detail-header"),i("div",{staticClass:"content"},[i("detail-list",{attrs:{list:t.list}})],1)],1)},Et=[],Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"banner",on:{click:t.handleBannerClick}},[i("img",{staticClass:"banner-img",attrs:{src:t.bannerImg}}),i("div",{staticClass:"banner-info"},[i("div",{staticClass:"banner-tittle"},[t._v(" "+t._s(this.sightName)+" ")]),i("div",{staticClass:"banner-number"},[i("span",{staticClass:"iconfont banner-icon"},[t._v("")]),t._v(" "+t._s(this.bannerImgs.length)+" ")])])]),i("fade-animation",[i("common-gallary",{directives:[{name:"show",rawName:"v-show",value:t.showGallary,expression:"showGallary"}],attrs:{imgs:t.bannerImgs},on:{close:t.handleGallaryClose}})],1)],1)},Lt=[],Ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",on:{click:t.handleGallaryClick}},[i("div",{staticClass:"wrapper"},[i("swiper",{attrs:{options:t.swiperOptions}},[t._l(t.imgs,(function(t,e){return i("swiper-slide",{key:e},[i("img",{staticClass:"gallary-img",attrs:{src:t}})])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])},Ht=[],Tt={name:"CommonGallary",props:{imgs:{type:Array,default(){return[]}}},data(){return{swiperOptions:{pagination:".swiper-pagination",paginationType:"fraction",observeParents:!0,observer:!0}}},methods:{handleGallaryClick(){this.$emit("close")}}},At=Tt,Dt=(0,r.Z)(At,Ot,Ht,!1,null,"ec340870",null),Nt=Dt.exports,Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",[t._t("default")],2)},jt=[],Pt={name:"FadeAnimation"},Mt=Pt,Bt=(0,r.Z)(Mt,Gt,jt,!1,null,"54171555",null),Ft=Bt.exports,Yt={name:"DetailBanner",props:{sightName:String,bannerImg:String,bannerImgs:Array},data(){return{showGallary:!1}},methods:{handleBannerClick(){this.showGallary=!0},handleGallaryClose(){this.showGallary=!1}},components:{CommonGallary:Nt,FadeAnimation:Ft}},Ut=Yt,Rt=(0,r.Z)(Ut,Zt,Lt,!1,null,"9661377a",null),Wt=Rt.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{directives:[{name:"show",rawName:"v-show",value:t.showAbs,expression:"showAbs"}],staticClass:"header-abs",attrs:{tag:"div",to:"/"}},[i("div",{staticClass:"iconfont header-abs-back"},[t._v("")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAbs,expression:"!showAbs"}],staticClass:"header-fixed",style:t.opacityStyle},[i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"iconfont header-fixed-back"},[t._v("")])]),t._v(" 景点详情 ")],1)],1)},zt=[],Jt={name:"DetailHeader",data(){return{showAbs:!0,opacityStyle:{opacity:0}}},methods:{handleScroll(){const t=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;if(t>60){let e=t/140;e=e>1?1:e,this.opacityStyle={opacity:e},this.showAbs=!1}else this.showAbs=!0}},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)}},Kt=Jt,Qt=(0,r.Z)(Kt,qt,zt,!1,null,"790ca880",null),Vt=Qt.exports,Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"item"},[i("div",{staticClass:"item-title border-bottom"},[i("span",{staticClass:"item-title-icon"}),t._v(" "+t._s(e.title)+" ")]),e.children?i("div",{staticClass:"item-chilren"},[i("detail-list",{attrs:{list:e.children}})],1):t._e()])})),0)},te=[],ee={name:"DetailList",props:{list:Array}},ie=ee,se=(0,r.Z)(ie,Xt,te,!1,null,"f909ecbc",null),ae=se.exports,ne={name:"Detail",components:{DetailBanner:Wt,DetailHeader:Vt,DetailList:ae},data(){return{sightName:"",bannerImg:"",gallaryImgs:[],list:[]}},methods:{getDetailInfo(){R().get("/api/detail.json",{params:{id:this.$route.params.id}}).then(this.handleGetDataSucc)},handleGetDataSucc(t){if(t=t.data,t.ret&&t.data){const e=t.data;this.sightName=e.sightName,this.bannerImg=e.bannerImg,this.gallaryImgs=e.gallaryImgs,this.list=e.categoryList}}},mounted(){this.getDetailInfo()}},re=ne,le=(0,r.Z)(re,$t,Et,!1,null,"0760f548",null),oe=le.exports;s.Z.use(u.Z);var ce=new u.Z({routes:[{path:"/",name:"Home",component:J},{path:"/city",name:"City",component:It},{path:"/detail/:id",name:"Detail",component:oe}],scrollBehavior(t,e,i){return{x:0,y:0}}}),ue=i(9565),de=i.n(ue);i(832);let he="上海";try{localStorage.city&&(he=localStorage.city)}catch(fe){}var me={city:he},pe={changeCity(t,e){t.city=e;try{localStorage.city=e}catch(fe){}}};s.Z.use(v.ZP);var ve=new v.ZP.Store({state:me,mutations:pe});s.Z.config.productionTip=!1,s.Z.use(de()),new s.Z({router:ce,store:ve,render:t=>t(c)}).$mount("#app")}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,n){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],a=t[u][1],n=t[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[o])}))?s.splice(o--,1):(l=!1,n<r&&(r=n));if(l){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,r=s[0],l=s[1],o=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(o)var u=o(i)}for(e&&e(s);c<r.length;c++)n=r[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},s=self["webpackChunkmuke"]=self["webpackChunkmuke"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(480)}));s=i.O(s)})();
//# sourceMappingURL=app.bdd06219.js.map